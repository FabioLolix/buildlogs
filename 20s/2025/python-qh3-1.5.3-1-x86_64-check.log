============================= test session starts ==============================
platform linux -- Python 3.13.7, pytest-8.4.2, pluggy-1.6.0 -- /usr/bin/python
cachedir: .pytest_cache
rootdir: /build/python-qh3/src/qh3-1.5.3
configfile: pyproject.toml
plugins: asyncio-0.26.0, mock-3.14.0
asyncio: mode=Mode.STRICT, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
collecting ... collected 400 items

tests/test_asyncio.py::TestHighLevel::test_connect_and_serve PASSED      [  0%]
tests/test_asyncio.py::TestHighLevel::test_connect_and_serve_ipv4 PASSED [  0%]
tests/test_asyncio.py::TestHighLevel::test_connect_and_serve_ipv6 PASSED [  0%]
tests/test_asyncio.py::TestHighLevel::test_connect_and_serve_with_ec_certificate PASSED [  1%]
tests/test_asyncio.py::TestHighLevel::test_connect_and_serve_with_ed25519_certificate PASSED [  1%]
tests/test_asyncio.py::TestHighLevel::test_connect_and_serve_large PASSED [  1%]
tests/test_asyncio.py::TestHighLevel::test_connect_and_serve_without_client_configuration PASSED [  1%]
tests/test_asyncio.py::TestHighLevel::test_connect_and_serve_writelines PASSED [  2%]
tests/test_asyncio.py::TestHighLevel::test_idna_sni PASSED               [  2%]
tests/test_asyncio.py::TestHighLevel::test_connect_and_serve_with_packet_loss PASSED [  2%]
tests/test_asyncio.py::TestHighLevel::test_connect_and_serve_with_session_ticket PASSED [  2%]
tests/test_asyncio.py::TestHighLevel::test_connect_and_serve_with_retry PASSED [  3%]
tests/test_asyncio.py::TestHighLevel::test_connect_and_serve_with_retry_bad_original_destination_connection_id PASSED [  3%]
tests/test_asyncio.py::TestHighLevel::test_connect_and_serve_with_retry_bad_retry_source_connection_id PASSED [  3%]
tests/test_asyncio.py::TestHighLevel::test_connect_and_serve_with_retry_bad_token PASSED [  3%]
tests/test_asyncio.py::TestHighLevel::test_connect_and_serve_with_version_negotiation PASSED [  4%]
tests/test_asyncio.py::TestHighLevel::test_connect_timeout PASSED        [  4%]
tests/test_asyncio.py::TestHighLevel::test_connect_timeout_no_wait_connected PASSED [  4%]
tests/test_asyncio.py::TestHighLevel::test_connect_local_port PASSED     [  4%]
tests/test_asyncio.py::TestHighLevel::test_connect_local_port_bind PASSED [  5%]
tests/test_asyncio.py::TestHighLevel::test_change_connection_id PASSED   [  5%]
tests/test_asyncio.py::TestHighLevel::test_key_update PASSED             [  5%]
tests/test_asyncio.py::TestHighLevel::test_ping PASSED                   [  5%]
tests/test_asyncio.py::TestHighLevel::test_ping_parallel PASSED          [  6%]
tests/test_asyncio.py::TestHighLevel::test_server_receives_garbage PASSED [  6%]
tests/test_asyncio.py::TestHighLevel::test_combined_key PASSED           [  6%]
tests/test_buffer.py::TestBuffer::test_data_slice PASSED                 [  6%]
tests/test_buffer.py::TestBuffer::test_pull_bytes PASSED                 [  7%]
tests/test_buffer.py::TestBuffer::test_internal_fixed_size PASSED        [  7%]
tests/test_buffer.py::TestBuffer::test_internal_push_zero_bytes PASSED   [  7%]
tests/test_buffer.py::TestBuffer::test_pull_bytes_negative PASSED        [  7%]
tests/test_buffer.py::TestBuffer::test_pull_bytes_truncated PASSED       [  8%]
tests/test_buffer.py::TestBuffer::test_pull_bytes_zero PASSED            [  8%]
tests/test_buffer.py::TestBuffer::test_pull_uint8 PASSED                 [  8%]
tests/test_buffer.py::TestBuffer::test_pull_uint8_truncated PASSED       [  8%]
tests/test_buffer.py::TestBuffer::test_pull_uint16 PASSED                [  9%]
tests/test_buffer.py::TestBuffer::test_pull_uint16_truncated PASSED      [  9%]
tests/test_buffer.py::TestBuffer::test_pull_uint32 PASSED                [  9%]
tests/test_buffer.py::TestBuffer::test_pull_uint32_truncated PASSED      [  9%]
tests/test_buffer.py::TestBuffer::test_pull_uint64 PASSED                [ 10%]
tests/test_buffer.py::TestBuffer::test_pull_uint64_truncated PASSED      [ 10%]
tests/test_buffer.py::TestBuffer::test_push_bytes PASSED                 [ 10%]
tests/test_buffer.py::TestBuffer::test_push_bytes_truncated PASSED       [ 10%]
tests/test_buffer.py::TestBuffer::test_push_bytes_zero PASSED            [ 11%]
tests/test_buffer.py::TestBuffer::test_push_uint8 PASSED                 [ 11%]
tests/test_buffer.py::TestBuffer::test_push_uint16 PASSED                [ 11%]
tests/test_buffer.py::TestBuffer::test_push_uint32 PASSED                [ 11%]
tests/test_buffer.py::TestBuffer::test_push_uint64 PASSED                [ 12%]
tests/test_buffer.py::TestBuffer::test_seek PASSED                       [ 12%]
tests/test_buffer.py::TestUintVar::test_uint_var PASSED                  [ 12%]
tests/test_buffer.py::TestUintVar::test_pull_uint_var_truncated PASSED   [ 12%]
tests/test_buffer.py::TestUintVar::test_push_uint_var_too_big PASSED     [ 13%]
tests/test_buffer.py::TestUintVar::test_size_uint_var PASSED             [ 13%]
tests/test_connection.py::TestQuicConnection::test_connect PASSED        [ 13%]
tests/test_connection.py::TestQuicConnection::test_connect_with_alpn PASSED [ 13%]
tests/test_connection.py::TestQuicConnection::test_connect_with_secrets_log PASSED [ 14%]
tests/test_connection.py::TestQuicConnection::test_connect_with_cert_chain PASSED [ 14%]
tests/test_connection.py::TestQuicConnection::test_connect_with_cipher_suite_aes128 PASSED [ 14%]
tests/test_connection.py::TestQuicConnection::test_connect_with_cipher_suite_aes256 PASSED [ 14%]
tests/test_connection.py::TestQuicConnection::test_connect_with_cipher_suite_chacha20 PASSED [ 15%]
tests/test_connection.py::TestQuicConnection::test_connect_without_loss PASSED [ 15%]
tests/test_connection.py::TestQuicConnection::test_connect_with_loss_1 PASSED [ 15%]
tests/test_connection.py::TestQuicConnection::test_connect_with_loss_2 PASSED [ 15%]
tests/test_connection.py::TestQuicConnection::test_connect_with_loss_3 PASSED [ 16%]
tests/test_connection.py::TestQuicConnection::test_connect_with_loss_4 PASSED [ 16%]
tests/test_connection.py::TestQuicConnection::test_connect_with_loss_5 PASSED [ 16%]
tests/test_connection.py::TestQuicConnection::test_connect_with_no_transport_parameters PASSED [ 16%]
tests/test_connection.py::TestQuicConnection::test_connect_with_compatible_version_negotiation_1 PASSED [ 17%]
tests/test_connection.py::TestQuicConnection::test_connect_with_compatible_version_negotiation_1_to_2 PASSED [ 17%]
tests/test_connection.py::TestQuicConnection::test_connect_with_compatible_version_negotiation_2 PASSED [ 17%]
tests/test_connection.py::TestQuicConnection::test_connect_with_compatible_version_negotiation_2_to_1 PASSED [ 17%]
tests/test_connection.py::TestQuicConnection::test_connect_with_quantum_readiness PASSED [ 18%]
tests/test_connection.py::TestQuicConnection::test_connect_with_0rtt PASSED [ 18%]
tests/test_connection.py::TestQuicConnection::test_connect_with_0rtt_bad_max_early_data PASSED [ 18%]
tests/test_connection.py::TestQuicConnection::test_change_connection_id PASSED [ 18%]
tests/test_connection.py::TestQuicConnection::test_change_connection_id_retransmit_new_connection_id PASSED [ 19%]
tests/test_connection.py::TestQuicConnection::test_change_connection_id_retransmit_retire_connection_id PASSED [ 19%]
tests/test_connection.py::TestQuicConnection::test_get_next_available_stream_id PASSED [ 19%]
tests/test_connection.py::TestQuicConnection::test_datagram_frame PASSED [ 19%]
tests/test_connection.py::TestQuicConnection::test_datagram_frame_2 PASSED [ 20%]
tests/test_connection.py::TestQuicConnection::test_decryption_error PASSED [ 20%]
tests/test_connection.py::TestQuicConnection::test_tls_error PASSED      [ 20%]
tests/test_connection.py::TestQuicConnection::test_receive_datagram_garbage PASSED [ 20%]
tests/test_connection.py::TestQuicConnection::test_receive_datagram_reserved_bits_non_zero PASSED [ 21%]
tests/test_connection.py::TestQuicConnection::test_receive_datagram_wrong_version PASSED [ 21%]
tests/test_connection.py::TestQuicConnection::test_receive_datagram_retry PASSED [ 21%]
tests/test_connection.py::TestQuicConnection::test_receive_datagram_retry_wrong_destination_cid PASSED [ 21%]
tests/test_connection.py::TestQuicConnection::test_receive_datagram_retry_wrong_integrity_tag PASSED [ 22%]
tests/test_connection.py::TestQuicConnection::test_handle_ack_frame_ecn PASSED [ 22%]
tests/test_connection.py::TestQuicConnection::test_handle_connection_close_frame PASSED [ 22%]
tests/test_connection.py::TestQuicConnection::test_handle_connection_close_frame_app PASSED [ 22%]
tests/test_connection.py::TestQuicConnection::test_handle_connection_close_frame_app_not_utf8 PASSED [ 23%]
tests/test_connection.py::TestQuicConnection::test_handle_crypto_frame_over_largest_offset PASSED [ 23%]
tests/test_connection.py::TestQuicConnection::test_handle_data_blocked_frame PASSED [ 23%]
tests/test_connection.py::TestQuicConnection::test_handle_datagram_frame PASSED [ 23%]
tests/test_connection.py::TestQuicConnection::test_handle_datagram_frame_not_allowed PASSED [ 24%]
tests/test_connection.py::TestQuicConnection::test_handle_datagram_frame_too_large PASSED [ 24%]
tests/test_connection.py::TestQuicConnection::test_handle_datagram_frame_with_length PASSED [ 24%]
tests/test_connection.py::TestQuicConnection::test_handle_datagram_frame_with_length_not_allowed PASSED [ 24%]
tests/test_connection.py::TestQuicConnection::test_handle_datagram_frame_with_length_too_large PASSED [ 25%]
tests/test_connection.py::TestQuicConnection::test_handle_handshake_done_not_allowed PASSED [ 25%]
tests/test_connection.py::TestQuicConnection::test_handle_max_data_frame PASSED [ 25%]
tests/test_connection.py::TestQuicConnection::test_handle_max_stream_data_frame PASSED [ 25%]
tests/test_connection.py::TestQuicConnection::test_handle_max_stream_data_frame_receive_only PASSED [ 26%]
tests/test_connection.py::TestQuicConnection::test_handle_max_streams_bidi_frame PASSED [ 26%]
tests/test_connection.py::TestQuicConnection::test_handle_max_streams_uni_frame PASSED [ 26%]
tests/test_connection.py::TestQuicConnection::test_handle_new_connection_id_duplicate PASSED [ 26%]
tests/test_connection.py::TestQuicConnection::test_handle_new_connection_id_over_limit PASSED [ 27%]
tests/test_connection.py::TestQuicConnection::test_handle_new_connection_id_with_retire_prior_to PASSED [ 27%]
tests/test_connection.py::TestQuicConnection::test_handle_new_connection_id_with_retire_prior_to_lower PASSED [ 27%]
tests/test_connection.py::TestQuicConnection::test_handle_excessive_new_connection_id_retires PASSED [ 27%]
tests/test_connection.py::TestQuicConnection::test_handle_new_connection_id_with_connection_id_invalid PASSED [ 28%]
tests/test_connection.py::TestQuicConnection::test_handle_new_connection_id_with_retire_prior_to_invalid PASSED [ 28%]
tests/test_connection.py::TestQuicConnection::test_handle_new_token_frame PASSED [ 28%]
tests/test_connection.py::TestQuicConnection::test_handle_new_token_frame_from_client PASSED [ 28%]
tests/test_connection.py::TestQuicConnection::test_handle_path_challenge_frame PASSED [ 29%]
tests/test_connection.py::TestQuicConnection::test_handle_path_challenge_response_on_different_path PASSED [ 29%]
tests/test_connection.py::TestQuicConnection::test_local_path_challenges_are_bounded PASSED [ 29%]
tests/test_connection.py::TestQuicConnection::test_handle_path_response_frame_bad PASSED [ 29%]
tests/test_connection.py::TestQuicConnection::test_handle_padding_frame PASSED [ 30%]
tests/test_connection.py::TestQuicConnection::test_handle_reset_stream_frame PASSED [ 30%]
tests/test_connection.py::TestQuicConnection::test_handle_reset_stream_frame_final_size_error PASSED [ 30%]
tests/test_connection.py::TestQuicConnection::test_handle_reset_stream_frame_over_max_data PASSED [ 30%]
tests/test_connection.py::TestQuicConnection::test_handle_reset_stream_frame_over_max_stream_data PASSED [ 31%]
tests/test_connection.py::TestQuicConnection::test_handle_reset_stream_frame_send_only PASSED [ 31%]
tests/test_connection.py::TestQuicConnection::test_handle_reset_stream_frame_twice PASSED [ 31%]
tests/test_connection.py::TestQuicConnection::test_handle_retire_connection_id_frame PASSED [ 31%]
tests/test_connection.py::TestQuicConnection::test_handle_retire_connection_id_frame_current_cid PASSED [ 32%]
tests/test_connection.py::TestQuicConnection::test_handle_retire_connection_id_frame_invalid_sequence_number PASSED [ 32%]
tests/test_connection.py::TestQuicConnection::test_handle_stop_sending_frame PASSED [ 32%]
tests/test_connection.py::TestQuicConnection::test_handle_stop_sending_frame_receive_only PASSED [ 32%]
tests/test_connection.py::TestQuicConnection::test_handle_stream_frame_final_size_error PASSED [ 33%]
tests/test_connection.py::TestQuicConnection::test_handle_stream_frame_over_largest_offset PASSED [ 33%]
tests/test_connection.py::TestQuicConnection::test_handle_stream_frame_over_max_data PASSED [ 33%]
tests/test_connection.py::TestQuicConnection::test_handle_stream_frame_over_max_stream_data PASSED [ 33%]
tests/test_connection.py::TestQuicConnection::test_handle_stream_frame_over_max_streams PASSED [ 34%]
tests/test_connection.py::TestQuicConnection::test_handle_stream_frame_send_only PASSED [ 34%]
tests/test_connection.py::TestQuicConnection::test_handle_stream_frame_wrong_initiator PASSED [ 34%]
tests/test_connection.py::TestQuicConnection::test_handle_stream_data_blocked_frame PASSED [ 34%]
tests/test_connection.py::TestQuicConnection::test_handle_stream_data_blocked_frame_send_only PASSED [ 35%]
tests/test_connection.py::TestQuicConnection::test_handle_streams_blocked_uni_frame PASSED [ 35%]
tests/test_connection.py::TestQuicConnection::test_parse_transport_parameters PASSED [ 35%]
tests/test_connection.py::TestQuicConnection::test_parse_transport_parameters_malformed PASSED [ 35%]
tests/test_connection.py::TestQuicConnection::test_parse_transport_parameters_with_bad_ack_delay_exponent PASSED [ 36%]
tests/test_connection.py::TestQuicConnection::test_parse_transport_parameters_with_bad_active_connection_id_limit PASSED [ 36%]
tests/test_connection.py::TestQuicConnection::test_parse_transport_parameters_with_bad_max_ack_delay PASSED [ 36%]
tests/test_connection.py::TestQuicConnection::test_parse_transport_parameters_with_bad_max_udp_payload_size PASSED [ 36%]
tests/test_connection.py::TestQuicConnection::test_parse_transport_parameters_with_bad_initial_source_connection_id PASSED [ 37%]
tests/test_connection.py::TestQuicConnection::test_parse_transport_parameters_with_bad_version_information_1 PASSED [ 37%]
tests/test_connection.py::TestQuicConnection::test_parse_transport_parameters_with_bad_version_information_2 PASSED [ 37%]
tests/test_connection.py::TestQuicConnection::test_payload_received_empty PASSED [ 37%]
tests/test_connection.py::TestQuicConnection::test_payload_received_padding_only PASSED [ 38%]
tests/test_connection.py::TestQuicConnection::test_payload_received_malformed_frame_type PASSED [ 38%]
tests/test_connection.py::TestQuicConnection::test_payload_received_unknown_frame PASSED [ 38%]
tests/test_connection.py::TestQuicConnection::test_payload_received_unexpected_frame PASSED [ 38%]
tests/test_connection.py::TestQuicConnection::test_payload_received_malformed_frame PASSED [ 39%]
tests/test_connection.py::TestQuicConnection::test_send_max_data_blocked_by_cc PASSED [ 39%]
tests/test_connection.py::TestQuicConnection::test_send_max_data_retransmit PASSED [ 39%]
tests/test_connection.py::TestQuicConnection::test_send_max_stream_data_retransmit PASSED [ 39%]
tests/test_connection.py::TestQuicConnection::test_send_max_streams_retransmit PASSED [ 40%]
tests/test_connection.py::TestQuicConnection::test_send_ping PASSED      [ 40%]
tests/test_connection.py::TestQuicConnection::test_send_ping_retransmit PASSED [ 40%]
tests/test_connection.py::TestQuicConnection::test_send_reset_stream PASSED [ 40%]
tests/test_connection.py::TestQuicConnection::test_send_stop_sending PASSED [ 41%]
tests/test_connection.py::TestQuicConnection::test_send_stop_sending_uni_stream PASSED [ 41%]
tests/test_connection.py::TestQuicConnection::test_send_stop_sending_unknown_stream PASSED [ 41%]
tests/test_connection.py::TestQuicConnection::test_send_stream_data_over_max_streams_bidi PASSED [ 41%]
tests/test_connection.py::TestQuicConnection::test_send_stream_data_over_max_streams_uni PASSED [ 42%]
tests/test_connection.py::TestQuicConnection::test_send_stream_data_peer_initiated PASSED [ 42%]
tests/test_connection.py::TestQuicConnection::test_stream_direction PASSED [ 42%]
tests/test_connection.py::TestQuicConnection::test_version_negotiation_fail PASSED [ 42%]
tests/test_connection.py::TestQuicConnection::test_version_negotiation_ignore PASSED [ 43%]
tests/test_connection.py::TestQuicConnection::test_version_negotiation_ignore_server PASSED [ 43%]
tests/test_connection.py::TestQuicConnection::test_version_negotiation_ok PASSED [ 43%]
tests/test_connection.py::TestQuicConnection::test_write_connection_close_early PASSED [ 43%]
tests/test_connection.py::TestQuicConnection::test_excessive_crypto_buffering PASSED [ 44%]
tests/test_connection.py::TestQuicNetworkPath::test_can_send PASSED      [ 44%]
tests/test_crl.py::test_parse_crl_entries PASSED                         [ 44%]
tests/test_crypto_v1.py::TestCrypto::test_derive_key_iv_hp PASSED        [ 44%]
tests/test_crypto_v1.py::TestCrypto::test_derive_key_iv_hp_chacha20 PASSED [ 45%]
tests/test_crypto_v1.py::TestCrypto::test_decrypt_chacha20 PASSED        [ 45%]
tests/test_crypto_v1.py::TestCrypto::test_decrypt_long_client PASSED     [ 45%]
tests/test_crypto_v1.py::TestCrypto::test_decrypt_long_server PASSED     [ 45%]
tests/test_crypto_v1.py::TestCrypto::test_decrypt_no_key PASSED          [ 46%]
tests/test_crypto_v1.py::TestCrypto::test_decrypt_short_server PASSED    [ 46%]
tests/test_crypto_v1.py::TestCrypto::test_encrypt_chacha20 PASSED        [ 46%]
tests/test_crypto_v1.py::TestCrypto::test_encrypt_long_client PASSED     [ 46%]
tests/test_crypto_v1.py::TestCrypto::test_encrypt_long_server PASSED     [ 47%]
tests/test_crypto_v1.py::TestCrypto::test_encrypt_short_server PASSED    [ 47%]
tests/test_crypto_v1.py::TestCrypto::test_key_update PASSED              [ 47%]
tests/test_crypto_v1.py::TestCrypto::test_aead_init_args_validation PASSED [ 47%]
tests/test_crypto_v1.py::TestCrypto::test_hp_init_args_validation PASSED [ 48%]
tests/test_crypto_v2.py::TestCrypto::test_derive_key_iv_hp PASSED        [ 48%]
tests/test_crypto_v2.py::TestCrypto::test_derive_key_iv_hp_chacha20 PASSED [ 48%]
tests/test_crypto_v2.py::TestCrypto::test_decrypt_chacha20 PASSED        [ 48%]
tests/test_crypto_v2.py::TestCrypto::test_decrypt_long_client PASSED     [ 49%]
tests/test_crypto_v2.py::TestCrypto::test_decrypt_long_server PASSED     [ 49%]
tests/test_crypto_v2.py::TestCrypto::test_decrypt_no_key PASSED          [ 49%]
tests/test_crypto_v2.py::TestCrypto::test_decrypt_short_server PASSED    [ 49%]
tests/test_crypto_v2.py::TestCrypto::test_encrypt_chacha20 PASSED        [ 50%]
tests/test_crypto_v2.py::TestCrypto::test_encrypt_long_client PASSED     [ 50%]
tests/test_crypto_v2.py::TestCrypto::test_encrypt_long_server PASSED     [ 50%]
tests/test_crypto_v2.py::TestCrypto::test_encrypt_short_server PASSED    [ 50%]
tests/test_crypto_v2.py::TestCrypto::test_key_update PASSED              [ 51%]
tests/test_h3.py::TestH3Connection::test_handle_control_frame_headers PASSED [ 51%]
tests/test_h3.py::TestH3Connection::test_handle_control_frame_max_push_id_from_client_before_settings PASSED [ 51%]
tests/test_h3.py::TestH3Connection::test_handle_control_frame_max_push_id_from_server PASSED [ 51%]
tests/test_h3.py::TestH3Connection::test_handle_control_settings_twice PASSED [ 52%]
tests/test_h3.py::TestH3Connection::test_handle_control_stream_close PASSED [ 52%]
tests/test_h3.py::TestH3Connection::test_handle_control_stream_duplicate PASSED [ 52%]
tests/test_h3.py::TestH3Connection::test_handle_push_frame_wrong_frame_type PASSED [ 52%]
tests/test_h3.py::TestH3Connection::test_handle_qpack_decoder_duplicate PASSED [ 53%]
tests/test_h3.py::TestH3Connection::test_handle_qpack_decoder_stream_error PASSED [ 53%]
tests/test_h3.py::TestH3Connection::test_handle_qpack_encoder_duplicate PASSED [ 53%]
tests/test_h3.py::TestH3Connection::test_handle_qpack_encoder_stream_error PASSED [ 53%]
tests/test_h3.py::TestH3Connection::test_handle_request_frame_bad_headers PASSED [ 54%]
tests/test_h3.py::TestH3Connection::test_handle_request_frame_data_before_headers PASSED [ 54%]
tests/test_h3.py::TestH3Connection::test_handle_request_frame_headers_after_trailers PASSED [ 54%]
tests/test_h3.py::TestH3Connection::test_handle_request_frame_push_promise_from_client PASSED [ 54%]
tests/test_h3.py::TestH3Connection::test_handle_request_frame_wrong_frame_type PASSED [ 55%]
tests/test_h3.py::TestH3Connection::test_request PASSED                  [ 55%]
tests/test_h3.py::TestH3Connection::test_request_headers_only PASSED     [ 55%]
tests/test_h3.py::TestH3Connection::test_request_fragmented_frame PASSED [ 55%]
tests/test_h3.py::TestH3Connection::test_request_with_server_push PASSED [ 56%]
tests/test_h3.py::TestH3Connection::test_request_with_server_push_max_push_id PASSED [ 56%]
tests/test_h3.py::TestH3Connection::test_send_data_after_trailers PASSED [ 56%]
tests/test_h3.py::TestH3Connection::test_send_data_before_headers PASSED [ 56%]
tests/test_h3.py::TestH3Connection::test_send_headers_after_trailers PASSED [ 57%]
tests/test_h3.py::TestH3Connection::test_blocked_stream PASSED           [ 57%]
tests/test_h3.py::TestH3Connection::test_blocked_stream_trailer PASSED   [ 57%]
tests/test_h3.py::TestH3Connection::test_uni_stream_grease PASSED        [ 57%]
tests/test_h3.py::TestH3Connection::test_request_with_trailers PASSED    [ 58%]
tests/test_h3.py::TestH3Connection::test_request_with_informational PASSED [ 58%]
tests/test_h3.py::TestH3Connection::test_uni_stream_type PASSED          [ 58%]
tests/test_h3.py::TestH3Connection::test_validate_settings_h3_datagram_invalid_value PASSED [ 58%]
tests/test_h3.py::TestH3Connection::test_validate_settings_h3_datagram_without_transport_parameter PASSED [ 59%]
tests/test_h3.py::TestH3Connection::test_validate_settings_enable_connect_protocol_invalid_value PASSED [ 59%]
tests/test_h3.py::TestH3Connection::test_validate_settings_enable_webtransport_invalid_value PASSED [ 59%]
tests/test_h3.py::TestH3Connection::test_validate_settings_enable_webtransport_without_h3_datagram PASSED [ 59%]
tests/test_h3.py::TestH3Parser::test_parse_settings_duplicate_identifier PASSED [ 60%]
tests/test_h3.py::TestH3Parser::test_parse_settings_reserved_identifier PASSED [ 60%]
tests/test_h3.py::TestH3Parser::test_validate_push_promise_headers PASSED [ 60%]
tests/test_h3.py::TestH3Parser::test_validate_request_headers PASSED     [ 60%]
tests/test_h3.py::TestH3Parser::test_validate_response_headers PASSED    [ 61%]
tests/test_h3.py::TestH3Parser::test_validate_trailers PASSED            [ 61%]
tests/test_logger.py::TestQuicLogger::test_empty PASSED                  [ 61%]
tests/test_logger.py::TestQuicLogger::test_single_trace PASSED           [ 61%]
tests/test_logger.py::TestQuicFileLogger::test_invalid_path PASSED       [ 62%]
tests/test_logger.py::TestQuicFileLogger::test_single_trace PASSED       [ 62%]
tests/test_packet.py::TestPacket::test_decode_packet_number PASSED       [ 62%]
tests/test_packet.py::TestPacket::test_pull_empty PASSED                 [ 62%]
tests/test_packet.py::TestPacket::test_pull_initial_client_v1 PASSED     [ 63%]
tests/test_packet.py::TestPacket::test_pull_initial_client_v1_truncated PASSED [ 63%]
tests/test_packet.py::TestPacket::test_pull_initial_client_v2 PASSED     [ 63%]
tests/test_packet.py::TestPacket::test_pull_initial_server_v1 PASSED     [ 63%]
tests/test_packet.py::TestPacket::test_pull_initial_server_v2 PASSED     [ 64%]
tests/test_packet.py::TestPacket::test_pull_retry_v1 PASSED              [ 64%]
tests/test_packet.py::TestPacket::test_pull_retry_v2 PASSED              [ 64%]
tests/test_packet.py::TestPacket::test_pull_version_negotiation PASSED   [ 64%]
tests/test_packet.py::TestPacket::test_pull_long_header_dcid_too_long PASSED [ 65%]
tests/test_packet.py::TestPacket::test_pull_long_header_scid_too_long PASSED [ 65%]
tests/test_packet.py::TestPacket::test_pull_long_header_no_fixed_bit PASSED [ 65%]
tests/test_packet.py::TestPacket::test_pull_long_header_too_short PASSED [ 65%]
tests/test_packet.py::TestPacket::test_pull_short_header PASSED          [ 66%]
tests/test_packet.py::TestPacket::test_pull_short_header_no_fixed_bit PASSED [ 66%]
tests/test_packet.py::TestParams::test_params PASSED                     [ 66%]
tests/test_packet.py::TestParams::test_params_disable_active_migration PASSED [ 66%]
tests/test_packet.py::TestParams::test_params_preferred_address PASSED   [ 67%]
tests/test_packet.py::TestParams::test_params_unknown PASSED             [ 67%]
tests/test_packet.py::TestParams::test_preferred_address_ipv4_only PASSED [ 67%]
tests/test_packet.py::TestParams::test_preferred_address_ipv6_only PASSED [ 67%]
tests/test_packet.py::TestFrame::test_ack_frame PASSED                   [ 68%]
tests/test_packet.py::TestFrame::test_ack_frame_with_one_range PASSED    [ 68%]
tests/test_packet.py::TestFrame::test_ack_frame_with_one_range_2 PASSED  [ 68%]
tests/test_packet.py::TestFrame::test_ack_frame_with_one_range_3 PASSED  [ 68%]
tests/test_packet.py::TestFrame::test_ack_frame_with_two_ranges PASSED   [ 69%]
tests/test_packet_builder.py::TestQuicPacketBuilder::test_long_header_empty PASSED [ 69%]
tests/test_packet_builder.py::TestQuicPacketBuilder::test_long_header_padding PASSED [ 69%]
tests/test_packet_builder.py::TestQuicPacketBuilder::test_long_header_initial_client_2 PASSED [ 69%]
tests/test_packet_builder.py::TestQuicPacketBuilder::test_long_header_initial_server PASSED [ 70%]
tests/test_packet_builder.py::TestQuicPacketBuilder::test_long_header_ping_only PASSED [ 70%]
tests/test_packet_builder.py::TestQuicPacketBuilder::test_long_header_then_short_header PASSED [ 70%]
tests/test_packet_builder.py::TestQuicPacketBuilder::test_long_header_initial_client_zero_rtt PASSED [ 70%]
tests/test_packet_builder.py::TestQuicPacketBuilder::test_long_header_then_long_header PASSED [ 71%]
tests/test_packet_builder.py::TestQuicPacketBuilder::test_short_header_empty PASSED [ 71%]
tests/test_packet_builder.py::TestQuicPacketBuilder::test_short_header_padding PASSED [ 71%]
tests/test_packet_builder.py::TestQuicPacketBuilder::test_short_header_max_flight_bytes PASSED [ 71%]
tests/test_packet_builder.py::TestQuicPacketBuilder::test_short_header_max_flight_bytes_zero PASSED [ 72%]
tests/test_packet_builder.py::TestQuicPacketBuilder::test_short_header_max_flight_bytes_zero_ack PASSED [ 72%]
tests/test_packet_builder.py::TestQuicPacketBuilder::test_short_header_max_total_bytes_1 PASSED [ 72%]
tests/test_packet_builder.py::TestQuicPacketBuilder::test_short_header_max_total_bytes_2 PASSED [ 72%]
tests/test_packet_builder.py::TestQuicPacketBuilder::test_short_header_max_total_bytes_3 PASSED [ 73%]
tests/test_packet_builder.py::TestQuicPacketBuilder::test_short_header_ping_only PASSED [ 73%]
tests/test_rangeset.py::TestRangeSet::test_add_single_duplicate PASSED   [ 73%]
tests/test_rangeset.py::TestRangeSet::test_add_single_ordered PASSED     [ 73%]
tests/test_rangeset.py::TestRangeSet::test_add_single_merge PASSED       [ 74%]
tests/test_rangeset.py::TestRangeSet::test_add_single_reverse PASSED     [ 74%]
tests/test_rangeset.py::TestRangeSet::test_add_range_ordered PASSED      [ 74%]
tests/test_rangeset.py::TestRangeSet::test_add_range_merge PASSED        [ 74%]
tests/test_rangeset.py::TestRangeSet::test_add_range_overlap PASSED      [ 75%]
tests/test_rangeset.py::TestRangeSet::test_add_range_overlap_2 PASSED    [ 75%]
tests/test_rangeset.py::TestRangeSet::test_add_range_reverse PASSED      [ 75%]
tests/test_rangeset.py::TestRangeSet::test_add_range_unordered_contiguous PASSED [ 75%]
tests/test_rangeset.py::TestRangeSet::test_add_range_unordered_sparse PASSED [ 76%]
tests/test_rangeset.py::TestRangeSet::test_subtract PASSED               [ 76%]
tests/test_rangeset.py::TestRangeSet::test_subtract_no_change PASSED     [ 76%]
tests/test_rangeset.py::TestRangeSet::test_subtract_overlap PASSED       [ 76%]
tests/test_rangeset.py::TestRangeSet::test_subtract_split PASSED         [ 77%]
tests/test_rangeset.py::TestRangeSet::test_contains PASSED               [ 77%]
tests/test_rangeset.py::TestRangeSet::test_eq PASSED                     [ 77%]
tests/test_rangeset.py::TestRangeSet::test_len PASSED                    [ 77%]
tests/test_rangeset.py::TestRangeSet::test_pop PASSED                    [ 78%]
tests/test_rangeset.py::TestRangeSet::test_repr PASSED                   [ 78%]
tests/test_recovery.py::TestQuicPacketPacer::test_no_measurement PASSED  [ 78%]
tests/test_recovery.py::TestQuicPacketPacer::test_with_measurement PASSED [ 78%]
tests/test_recovery.py::TestQuicPacketRecovery::test_discard_space PASSED [ 79%]
tests/test_recovery.py::TestQuicPacketRecovery::test_on_ack_received_ack_eliciting PASSED [ 79%]
tests/test_recovery.py::TestQuicPacketRecovery::test_on_ack_received_non_ack_eliciting PASSED [ 79%]
tests/test_recovery.py::TestQuicPacketRecovery::test_on_packet_lost_crypto PASSED [ 79%]
tests/test_recovery.py::TestQuicRttMonitor::test_monitor PASSED          [ 80%]
tests/test_retry.py::TestQuicRetryTokenHandler::test_retry_token PASSED  [ 80%]
tests/test_stream.py::TestQuicStream::test_receiver_empty PASSED         [ 80%]
tests/test_stream.py::TestQuicStream::test_receiver_ordered PASSED       [ 80%]
tests/test_stream.py::TestQuicStream::test_receiver_unordered PASSED     [ 81%]
tests/test_stream.py::TestQuicStream::test_receiver_offset_only PASSED   [ 81%]
tests/test_stream.py::TestQuicStream::test_receiver_already_fully_consumed PASSED [ 81%]
tests/test_stream.py::TestQuicStream::test_receiver_already_partially_consumed PASSED [ 81%]
tests/test_stream.py::TestQuicStream::test_receiver_already_partially_consumed_2 PASSED [ 82%]
tests/test_stream.py::TestQuicStream::test_receiver_fin PASSED           [ 82%]
tests/test_stream.py::TestQuicStream::test_receiver_fin_out_of_order PASSED [ 82%]
tests/test_stream.py::TestQuicStream::test_receiver_fin_then_data PASSED [ 82%]
tests/test_stream.py::TestQuicStream::test_receiver_fin_twice PASSED     [ 83%]
tests/test_stream.py::TestQuicStream::test_receiver_fin_without_data PASSED [ 83%]
tests/test_stream.py::TestQuicStream::test_receiver_reset PASSED         [ 83%]
tests/test_stream.py::TestQuicStream::test_receiver_reset_after_fin PASSED [ 83%]
tests/test_stream.py::TestQuicStream::test_receiver_reset_twice PASSED   [ 84%]
tests/test_stream.py::TestQuicStream::test_receiver_reset_twice_final_size_error PASSED [ 84%]
tests/test_stream.py::TestQuicStream::test_receiver_stop PASSED          [ 84%]
tests/test_stream.py::TestQuicStream::test_receiver_stop_lost PASSED     [ 84%]
tests/test_stream.py::TestQuicStream::test_sender_data PASSED            [ 85%]
tests/test_stream.py::TestQuicStream::test_sender_data_and_fin PASSED    [ 85%]
tests/test_stream.py::TestQuicStream::test_sender_data_and_fin_ack_out_of_order PASSED [ 85%]
tests/test_stream.py::TestQuicStream::test_sender_data_lost PASSED       [ 85%]
tests/test_stream.py::TestQuicStream::test_sender_data_lost_fin PASSED   [ 86%]
tests/test_stream.py::TestQuicStream::test_sender_blocked PASSED         [ 86%]
tests/test_stream.py::TestQuicStream::test_sender_fin_only PASSED        [ 86%]
tests/test_stream.py::TestQuicStream::test_sender_fin_only_despite_blocked PASSED [ 86%]
tests/test_stream.py::TestQuicStream::test_sender_reset PASSED           [ 87%]
tests/test_stream.py::TestQuicStream::test_sender_reset_lost PASSED      [ 87%]
tests/test_tls.py::TestBuffer::test_pull_block_truncated PASSED          [ 87%]
tests/test_tls.py::TestContext::test_client_unexpected_message PASSED    [ 87%]
tests/test_tls.py::TestContext::test_client_bad_certificate_verify_data PASSED [ 88%]
tests/test_tls.py::TestContext::test_client_bad_finished_verify_data PASSED [ 88%]
tests/test_tls.py::TestContext::test_server_unexpected_message PASSED    [ 88%]
tests/test_tls.py::TestContext::test_server_unsupported_cipher_suite PASSED [ 88%]
tests/test_tls.py::TestContext::test_server_unsupported_signature_algorithm PASSED [ 89%]
tests/test_tls.py::TestContext::test_server_unsupported_version PASSED   [ 89%]
tests/test_tls.py::TestContext::test_server_bad_finished_verify_data PASSED [ 89%]
tests/test_tls.py::TestContext::test_handshake PASSED                    [ 89%]
tests/test_tls.py::TestContext::test_handshake_with_ec_certificate PASSED [ 90%]
tests/test_tls.py::TestContext::test_handshake_with_ed25519_certificate PASSED [ 90%]
tests/test_tls.py::TestContext::test_handshake_with_alpn PASSED          [ 90%]
tests/test_tls.py::TestContext::test_handshake_with_alpn_fail PASSED     [ 90%]
tests/test_tls.py::TestContext::test_handshake_with_rsa_pkcs1_sha256_signature PASSED [ 91%]
tests/test_tls.py::TestContext::test_handshake_with_certificate_error PASSED [ 91%]
tests/test_tls.py::TestContext::test_handshake_with_certificate_no_verify PASSED [ 91%]
tests/test_tls.py::TestContext::test_handshake_with_grease_group PASSED  [ 91%]
tests/test_tls.py::TestContext::test_handshake_with_x25519 PASSED        [ 92%]
tests/test_tls.py::TestContext::test_session_ticket PASSED               [ 92%]
tests/test_tls.py::TestTls::test_pull_client_hello PASSED                [ 92%]
tests/test_tls.py::TestTls::test_pull_client_hello_with_alpn PASSED      [ 92%]
tests/test_tls.py::TestTls::test_pull_client_hello_with_psk PASSED       [ 93%]
tests/test_tls.py::TestTls::test_pull_client_hello_with_sni PASSED       [ 93%]
tests/test_tls.py::TestTls::test_push_client_hello PASSED                [ 93%]
tests/test_tls.py::TestTls::test_pull_server_hello PASSED                [ 93%]
tests/test_tls.py::TestTls::test_pull_server_hello_with_psk PASSED       [ 94%]
tests/test_tls.py::TestTls::test_pull_server_hello_with_unknown_extension PASSED [ 94%]
tests/test_tls.py::TestTls::test_push_server_hello PASSED                [ 94%]
tests/test_tls.py::TestTls::test_pull_new_session_ticket PASSED          [ 94%]
tests/test_tls.py::TestTls::test_pull_new_session_ticket_with_unknown_extension PASSED [ 95%]
tests/test_tls.py::TestTls::test_encrypted_extensions PASSED             [ 95%]
tests/test_tls.py::TestTls::test_encrypted_extensions_with_alpn PASSED   [ 95%]
tests/test_tls.py::TestTls::test_pull_encrypted_extensions_with_alpn_and_early_data PASSED [ 95%]
tests/test_tls.py::TestTls::test_pull_certificate PASSED                 [ 96%]
tests/test_tls.py::TestTls::test_pull_certificate_request PASSED         [ 96%]
tests/test_tls.py::TestTls::test_push_certificate PASSED                 [ 96%]
tests/test_tls.py::TestTls::test_pull_certificate_verify PASSED          [ 96%]
tests/test_tls.py::TestTls::test_push_certificate_verify PASSED          [ 97%]
tests/test_tls.py::TestTls::test_pull_finished PASSED                    [ 97%]
tests/test_tls.py::TestTls::test_push_finished PASSED                    [ 97%]
tests/test_tls.py::TestTls::test_parsing_ec_private_key PASSED           [ 97%]
tests/test_tls.py::TestTls::test_rebuild_chain_ecdsa PASSED              [ 98%]
tests/test_tls.py::TestTls::test_rebuild_chain_rsa PASSED                [ 98%]
tests/test_webtransport.py::TestWebTransport::test_bidirectional_stream PASSED [ 98%]
tests/test_webtransport.py::TestWebTransport::test_bidirectional_stream_fragmented_frame PASSED [ 98%]
tests/test_webtransport.py::TestWebTransport::test_bidirectional_stream_server_initiated PASSED [ 99%]
tests/test_webtransport.py::TestWebTransport::test_unidirectional_stream PASSED [ 99%]
tests/test_webtransport.py::TestWebTransport::test_unidirectional_stream_fragmented_frame PASSED [ 99%]
tests/test_webtransport.py::TestWebTransport::test_datagram PASSED       [ 99%]
tests/test_webtransport.py::TestWebTransport::test_handle_datagram_truncated PASSED [100%]

============================= slowest 10 durations =============================
5.00s call     tests/test_asyncio.py::TestHighLevel::test_connect_timeout_no_wait_connected
5.00s call     tests/test_asyncio.py::TestHighLevel::test_connect_timeout
4.08s call     tests/test_asyncio.py::TestHighLevel::test_connect_and_serve_with_retry_bad_token
0.55s call     tests/test_asyncio.py::TestHighLevel::test_connect_and_serve_with_packet_loss
0.42s call     tests/test_asyncio.py::TestHighLevel::test_connect_and_serve_with_retry_bad_retry_source_connection_id
0.38s call     tests/test_asyncio.py::TestHighLevel::test_connect_and_serve_large
0.33s call     tests/test_asyncio.py::TestHighLevel::test_connect_and_serve_with_retry_bad_original_destination_connection_id
0.23s call     tests/test_asyncio.py::TestHighLevel::test_connect_and_serve_with_retry
0.21s call     tests/test_asyncio.py::TestHighLevel::test_connect_and_serve_with_session_ticket
0.20s call     tests/test_asyncio.py::TestHighLevel::test_connect_and_serve_without_client_configuration
============================= 400 passed in 20.20s =============================
